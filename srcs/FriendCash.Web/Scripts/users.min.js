function koUserModel(n){var t=this;t.ID=ko.observable(n.ID);t.UserName=ko.observable(n.UserName);t.FullName=ko.observable(n.FullName);t.Email=ko.observable(n.Email);t.EmailConfirmed=ko.observable(n.EmailConfirmed);t.pureJoinDate=ko.observable(moment(n.JoinDate));t.JoinDate=ko.observable(t.pureJoinDate().format("L"));t.pureExpirationDate=ko.observable(moment(n.ExpirationDate));t.ExpirationDate=ko.observable(t.pureExpirationDate().format("L"));t.UserRoles=ko.observable(new koUserRolesModel(n.UserRoles,t))}function koUserRolesModel(n){var t=this;t.Admin=ko.observable(n.Admin);t.User=ko.observable(n.User);t.Viewer=ko.observable(n.Viewer)}var koUsersContext=function(){var n=this;n.isLoading=ko.observable(!1);n.isSaving=ko.observable(!1);n.data=ko.observableArray([]);n.dataFiltered=ko.computed(function(){return $.grep(n.data(),function(){return!0})},n);n.loadData=function(){n.isLoading(!0);n.data.removeAll();GetDataJson({url:GetActionUrl("Users","GetData"),success:function(t){t.Result&&$.each(t.Data,function(t,i){n.data.push(new koUserModel(i))})},done:function(){n.isLoading(!1)}})};n.openData=function(){var r=$(this)[0],t=ko.toJS(r),i=new koUserModel(t);console.log({jsonData:t,modelData:ko.toJS(i)});n.selectData(i)};n.selectedData=ko.observable();n.selectData=function(t){n.selectedData(t);$("#editModal").modal("open");$("select").material_select()};n.loadData()},koUserContext=function(){var n=this;n.isLoading=ko.observable(!1);n.isSaving=ko.observable(!1);n.data=ko.observable();n.dataSignatures=ko.observableArray();n.loadData=function(){n.isLoading(!0);GetDataJson({url:GetActionUrl("Users","GetData")+"?id="+userID,success:function(t){t.Result&&(n.data(new koUserModel(t.Data)),n.loadSignatures())},done:function(){n.isLoading(!1)}})};n.loadSignatures=function(){n.dataSignatures.removeAll();GetDataJson({url:GetActionUrl("Users","GetSignatures")+"?id="+userID,success:function(t){t.Result&&$.each(t.Data,function(t,i){n.dataSignatures.push(i)})}})};n.addYearSignature=function(){n.addSignature(365)};n.addMonthSignature=function(){n.addSignature(30)};n.addSignature=function(t){n.isSaving=ko.observable(!1);PostDataJson({url:GetActionUrl("Users","AddSignature"),data:{idUser:userID,days:t},success:function(t){t.Result&&n.loadSignatures()},done:function(){n.isSaving(!1)}})};n.removeSignature=function(t){n.isSaving=ko.observable(!1);PostDataJson({url:GetActionUrl("Users","RemoveSignature"),data:{idUser:userID,idSignature:t.idSignature},success:function(t){t.Result&&n.loadSignatures()},done:function(){n.isSaving(!1)}})};n.loadData()};