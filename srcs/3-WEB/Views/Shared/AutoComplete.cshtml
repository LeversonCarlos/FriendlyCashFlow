@model FriendCash.Web.Code.AutoCompleteView
<script type="text/javascript">
   $(document).ready(function () {
      $('#@Model.NameForDescription').on('input', function() {
         var descriptionValue = $(this).val();
         $('#@Model.NameForValue').val(0).trigger('change'); 
      });
      $('#@Model.NameForDescription').autocomplete({
         open: function () {
            var iWidth = $('#@Model.NameForDescription').width();
            $('.ui-autocomplete').width(iWidth);
         }, 
         minLength: 2,
         source: function (request, response) {
            $.ajax({
               url: '@Url.Action("AutoComplete", Model.RelatedController)',
               type: "POST",
               dataType: "json",
               data: { term: request.term },
               success: response
               /*
               success: function (data) {
                  response($.map(data, function (item) {
                     return { 
                        id: item.Value,
                        label: item.Details
                     };
                  }))
               }
               */
            })
         },
         select: function (e, ui) {
            $('#@Model.NameForValue').val(ui.item.Value).trigger('change');
            $('#@Model.NameForDescription').val(ui.item.Description);
            return false;
         },
         messages:
            { noResults: "", results: function () { } }
      })
      .data("ui-autocomplete")._renderItem = function (ul, item) {
         return $("<li></li>")
            .data("ui-autocomplete-item", item)
            .append("<a>" + item.Details + "</a>")
            .appendTo(ul);
      };
   });
</script>
