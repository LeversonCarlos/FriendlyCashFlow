@model FriendCash.Model.Planning
@{
   ViewBag.jQueryUI = true;
   Layout = "~/Views/Shared/Base.cshtml";
}

@if (Model != null)
{
   using (Html.BeginForm("Edit", "Planning", FormMethod.Post)) 
   {
      @Html.AntiForgeryToken()
      @Html.ValidationSummary(true)
      @Html.HiddenFor(model => model.idRow)
      @Html.HiddenFor(model => model.idPlanning)

      <div class="panel panel-default">
         <div class="panel-body">
            @Html.FriendTextBoxFor(model => model.Description)
            @Html.FriendDropDownListFor(model => model.Type, typeof(FriendCash.Model.Document.enType), false)
            @Html.FriendPlanningListFor(model => model.idParentRow, ((IEnumerable<FriendCash.Model.Planning>)ViewData["PlanningTree"]))
         </div>
         <div class="panel-footer">
            <div class="row">
               @{
                  CommandRemove oRemove = null;
                  if (Model.idPlanning > 0)
                  { oRemove = new CommandRemove(); oRemove.Question = FriendCash.Resources.Planning.MSG_QUESTION_REMOVE; }
               }
               @Html.FriendCommandForEdit(new CommandSave(), oRemove)
            </div>
         </div>
      </div>
   }
}