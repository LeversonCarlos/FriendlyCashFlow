<shared-authenticated-container>
   <div header-title>{{ "entries.TITLE" | translation | async}}</div>
   <div header-toolbar>
      <button mat-icon-button routerLink="../details/new">
         <mat-icon>add_circle</mat-icon>
      </button>
   </div>
   <div content>

      <ng-container *ngIf="(EntriesGroups | async) as entriesGroups">
         <shared-empty-list *ngIf="entriesGroups.length==0"></shared-empty-list>
         <mat-nav-list *ngIf="entriesGroups.length>0">
            <ng-container *ngFor="let day of entriesGroups">

               <div>{{ day.Day }}</div>

               <mat-list-item *ngFor="let entry of day.Entries">
                  <mat-icon matListIcon>{{ entry.Paid ? 'check_box' : 'check_box_outline_blank' }}</mat-icon>
                  <span matLine routerLink="../details/{{entry.EntryID}}">{{ entry?.Pattern?.Text }}</span>
                  <span matLine routerLink="../details/{{entry.EntryID}}">
                     <span>{{ entry?.EntryValue | number:'1.2-2' }}</span>
                  </span>
                  <small matLine routerLink="../details/{{entry.EntryID}}">
                     <span>{{ entry?.Pattern?.CategoryID }}</span>
                     <span>|</span>
                     <span>{{ entry?.AccountID }}</span>
                  </small>
                  <button mat-icon-button [matMenuTriggerFor]="menu">
                     <mat-icon>more_vert</mat-icon>
                  </button>
                  <mat-menu #menu="matMenu">
                     <button mat-menu-item class="danger" (click)="OnRemoveEntry(entry)">
                        <span>{{ 'entries.REMOVE_MENU' | translation | async }}</span>
                     </button>
                  </mat-menu>
               </mat-list-item>

               <div>{{ day.Balance.Total.ExpectedBalance | number:'1.2-2' }}</div>
               <mat-divider></mat-divider>

            </ng-container>

         </mat-nav-list>
      </ng-container>

   </div>
</shared-authenticated-container>
